/Users/baptistegourgouillon/.pyenv/versions/3.11.9/lib/python3.11/site-packages/transformers/models/mpnet/modeling_mpnet.py:954: UserWarning: cumsum_out_mps supported by MPS on MacOS 13+, please upgrade (Triggered internally at /Users/runner/work/pytorch/pytorch/pytorch/aten/src/ATen/native/mps/operations/UnaryOps.mm:425.)
  incremental_indices = torch.cumsum(mask, dim=1).type_as(mask) * mask
[STARTUP] 🚀 Initialisation de YT Channel Analyzer v2.0.0
[STARTUP] 📁 Mode debug: False
[STARTUP] 🔧 Mode dev: True
[SEMANTIC] 🧠 Initialisation du classificateur sémantique avec sentence-transformers/all-mpnet-base-v2
[SEMANTIC] ✅ Modèle sentence-transformers/all-mpnet-base-v2 chargé avec succès
[SEMANTIC] 📊 Prototypes HERO: 7 exemples
[SEMANTIC] 📊 Prototypes HUB: 7 exemples
[SEMANTIC] 📊 Prototypes HELP: 7 exemples
[PLAYLIST-CLASSIFIER] ✅ Classificateur sémantique initialisé avec succès
✅ Schéma de base de données mis à jour
[STARTUP] ✅ Clé API YouTube chargée depuis la base de données
[STARTUP] ✅ Blueprint 'auth' enregistré
[STARTUP] ✅ Blueprint 'main' enregistré
[STARTUP] ✅ Blueprint 'api' enregistré
[STARTUP] ✅ Blueprint 'competitors' enregistré
[STARTUP] ✅ Blueprint 'insights' enregistré
[STARTUP] ✅ Blueprint 'emotion_api' enregistré
[STARTUP] ✅ Blueprint 'batch_api' enregistré
[STARTUP] ✅ Blueprint 'admin' enregistré
[STARTUP] 🎯 8 blueprints enregistrés avec succès
❌ Erreur lors de l'initialisation de la base de données: DatabaseSchema.update_database_schema() missing 1 required positional argument: 'conn'
[STARTUP] ✅ Base de données initialisée
[STARTUP] 🎉 Application prête avec 89 routes
[STARTUP] 🌐 Démarrage sur http://127.0.0.1:8082
[STARTUP] 🔄 Mode debug: False
[STARTUP] 📊 Architecture: 6 blueprints modulaires
[STARTUP] 🎯 Fini les 10,122 lignes monolithiques !
 * Serving Flask app 'app'
 * Debug mode: off
WARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.
 * Running on http://127.0.0.1:8082
Press CTRL+C to quit
127.0.0.1 - - [27/Jul/2025 01:10:00] "POST /login HTTP/1.1" 302 -
Traceback (most recent call last):
  File "/Users/baptistegourgouillon/Documents/GitHub/yt-channel-analyzer/app.py", line 63, in inject_dev_mode
    from yt_channel_analyzer.auth import is_authenticated
  File "/Users/baptistegourgouillon/Documents/GitHub/yt-channel-analyzer/yt_channel_analyzer/auth.py", line 4, in <module>
    from .crypto_utils import hash_password, verify_password, encrypt_data, decrypt_data
  File "/Users/baptistegourgouillon/Documents/GitHub/yt-channel-analyzer/yt_channel_analyzer/crypto_utils.py", line 1, in <module>
    from cryptography.fernet import Fernet
ModuleNotFoundError: No module named 'cryptography'
127.0.0.1 - - [27/Jul/2025 01:10:00] "GET / HTTP/1.1" 200 -
✅ Schéma de base de données mis à jour
[CONTEXT] Erreur inject_dev_mode: No module named 'cryptography'
🎯 [DEBUG] === DÉBUT tag_playlist ===
📝 [DEBUG] Données reçues: playlist_id=371, category=hub
🔗 [DEBUG] Import des modules OK
✅ Schéma de base de données mis à jour
🔗 [DEBUG] Connexion DB OK
[ADVANCED-SEMANTIC] 🚀 Initialisation du classificateur avancé avec sentence-transformers/all-mpnet-base-v2
[ADVANCED-SEMANTIC] ✅ Modèle chargé avec succès
[ADVANCED-SEMANTIC] 📊 Prototypes HERO: 9 exemples
[ADVANCED-SEMANTIC] 📊 Prototypes HUB: 10 exemples
[ADVANCED-SEMANTIC] 📊 Prototypes HELP: 10 exemples
🧠 [HIERARCHY] Classificateur sémantique chargé
📝 [HIERARCHY] Classificateur patterns chargé
🔗 [DEBUG] Classifier créé OK
🥇 [MANUAL-CLASSIFICATION] Classification HUMAINE playlist 371 → HUB
🥇 [HIERARCHY] ✅ Playlist 371 → HUB (HUMAIN - INTOUCHABLE)
📊 [DEBUG] Classification result: True
🔗 [AUTO-LINK] Création automatique des liens playlist_video...
🔍 [AUTO-LINK] Début du processus d'auto-linking...
📋 [AUTO-LINK] Playlist: Campingurlaub | ARD Reisen
🆔 [AUTO-LINK] YouTube ID: PLotYIO1H9YOLgfx0mowt-O3UPU4YAwuO9
🔍 [AUTO-LINK] API retourne 74 vidéos
✅ [AUTO-LINK] 69 liens créés automatiquement
🔄 [DEBUG] Début propagation...
🥇 [HIERARCHY] Classification HUMAINE trouvée: hub
🔒 [HIERARCHY] Vidéo 5927 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 5935 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 5937 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 5943 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 5958 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6010 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6017 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6021 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6022 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6023 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6038 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6049 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6053 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6054 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6066 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Camping-Check: Günstige Mini-Camper und DIY-Wohnwa...' → HELP (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6068 → HUB (source: propagated_from_human_playlist)
🔒 [HIERARCHY] Vidéo 6072 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Camping-Check: Caravan Salon 2024 Highlights | ARD...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6084 → HUB (source: propagated_from_human_playlist)
🔒 [HIERARCHY] Vidéo 6085 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6099 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Campen auf Sardinien – Von der Costa Smeralda über...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6101 → HUB (source: propagated_from_human_playlist)
🔒 [HIERARCHY] Vidéo 6103 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6115 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6117 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6121 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6122 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6124 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6127 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6145 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6153 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6186 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Camping in Ljubljana, Sloweniens Hauptstadt – Im W...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6191 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Camping in Slowenien – Im Wohnmobil mit den Erbslö...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6192 → HUB (source: propagated_from_human_playlist)
🔒 [HIERARCHY] Vidéo 6211 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Camping-Check: Schulbus als Wohnmobil, Fahrrad-Woh...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6234 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Dänemark: Camping-Urlaub mit dem E-Camper | ARD Re...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6244 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Andalusien: Campervan-Roadtrip von Malaga bis Sevi...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6251 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Italien: Mit neuem Wohnwagen zum Camping in die Do...' → HUB (46.1%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6252 → HUB (source: propagated_from_human_playlist)
🔒 [HIERARCHY] Vidéo 6256 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6258 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6261 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6263 protégée par classification HUMAINE - SKIP
🔒 [HIERARCHY] Vidéo 6266 protégée par classification HUMAINE - SKIP
[ADVANCED-SEMANTIC] 🎯 'Caravan Salon 2023 aus Düsseldorf | ARD Reisen...' → HUB (50.4%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6267 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Sommerurlaub am Thüringer Meer - Action und Erholu...' → HERO (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6268 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Camping-Check: Allrad-Wohnmobile, Oldtimer-Camper ...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6269 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Camper-Roadtrip durch Kanada: Vancouver, British C...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6271 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Mit Wohnwagen in Barbie Pink an die Küste der Nied...' → HERO (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6275 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Italien: Mit großem Camper, Vespa und Hund nach Ap...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6280 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Polen: Mit dem Pickup-Camper an die Ostsee | ARD R...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
📺 [HIERARCHY] Vidéo 6290 → HUB (source: propagated_from_human_playlist)
[ADVANCED-SEMANTIC] 🎯 'Der Camping-Check: Stelzenhäuser und Stellplätze f...' → HUB (45.0%)
✅ Schéma de base de données mis à jour
🥉 [HIERARCHY] Classification PATTERN: hub
127.0.0.1 - - [27/Jul/2025 01:10:47] "POST /api/tag-playlist HTTP/1.1" 200 -
